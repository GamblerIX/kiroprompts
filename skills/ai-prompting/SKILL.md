---
name: ai-prompting
description: AI 辅助开发的有效沟通策略。学习上下文优先提示、分阶段交互、迭代改进和验证技术，以便从 Claude 和其他 AI 编码助手那里获得更好的结果。
license: MIT
compatibility: Claude Code, Cursor, VS Code, Windsurf
metadata:
  category: methodology
  complexity: beginner
  author: Kiro Team
  version: "1.0.0"
---

# AI 提示策略 (AI Prompting Strategies)

掌握与 AI 编码助手沟通的艺术，以便更快地获得更好的结果。这些策略针对规范驱动开发进行了优化，但也广泛适用于 AI 协作。

## 何时使用此技能

在以下情况下使用这些提示策略：
- 使用 Claude Code, Cursor 或其他 AI 助手时
- 通过 AI 协作创建规范时
- 获得不一致或低质量的 AI 响应时
- 需要提高 AI 输出准确性时
- 想要更快的迭代周期时

## 核心策略

### 策略 1：上下文优先提示

在提出请求之前，始终提供足够的上下文。

**糟糕的方法：**
```
为用户资料功能创建需求。
```

**更好的方法：**
```
我正在为一个健身跟踪平台开发 Web 应用程序。我们需要添加用户资料功能，以便用户可以管理他们的个人信息和健身目标。

上下文：
- 技术：React 前端，Node.js 后端
- 用户群：注重健康的个人，年龄 18-65 岁
- 关键约束：必须遵守欧盟用户的 GDPR
- 集成：将连接现有的认证系统

请帮助我为用户资料功能创建需求。
```

**为什么有效：**
- 提供领域上下文以做出更好的决策
- 及早识别技术约束
- 澄清合规性需求
- 启用更相关的建议

### 策略 2：分阶段交互

按顺序通过规范阶段。在进入下一阶段之前完成每个阶段。

**第一阶段 - 需求：**
```
让我们从 [功能名称] 的需求阶段开始。

现状：[描述当前状态]
要解决的问题：[描述问题]
受影响的用户：[描述用户类型]
成功标准：[我们如何知道它有效]

请帮助我使用 EARS 格式制定全面的需求。
```

**第二阶段 - 设计（需求批准后）：**
```
既然我们有了清晰的需求，让我们创建技术设计。

需求总结：[关键需求]
技术上下文：[架构、框架、模式]
约束：[性能、可扩展性、安全]

请提出一个解决这些需求的技术设计。
```

**第三阶段 - 任务（设计批准后）：**
```
随着设计的最终确定，让我们将其分解为实施任务。

设计总结：[关键组件和交互]
团队上下文：[团队规模、技能水平]
依赖关系：[必须先构建什么]

请为实施创建一个有序的任务分解。
```

### 策略 3：迭代改进

将规范开发视为对话，而不是单一请求。

**初始请求：**
```
帮我定义电子邮件通知首选项的需求。
```

**改进第一轮：**
```
很好的开始！让我们改进几个领域：
1. 关于通知频率，我们可以添加每日摘要选项吗？
2. 我们应如何处理待处理通知期间更改首选项的情况？
3. 您能否详细说明 GDPR 合规性的取消订阅需求？
```

**改进第二轮：**
```
完美。现在让我们添加以下需求：
- 移动推送通知（除电子邮件外）
- 通知历史记录（过去 30 天）
- 每种通知类型的控制（不仅仅是全局开启/关闭）
```

### 策略 4：示例驱动提示

提供你想要的具体示例。

**对于需求：**
```
我需要文件上传功能的验收标准。像这个例子一样使用 EARS 格式：

来自我们认证功能的好例子：
“当用户输入有效凭据时，系统应在 2 秒内进行身份验证”

避免模糊的需求，如：
“系统应高效处理文件上传”

关注具体、可测试的标准：
- 文件大小限制
- 支持的文件类型
- 上传进度指示
- 错误处理
```

**对于设计：**
```
创建组件架构。遵循此现有模式：

[引用现有架构]

要包含的关键要素：
- 组件职责
- 数据流
- API 边界
- 错误处理路径
```

### 策略 5：约束明确提示

明确所有约束。不要假设 AI 知道你的限制。

```
为产品目录数据设计缓存策略。

明确约束：
- 基础设施：AWS 上的 Redis, PostgreSQL
- 性能：缓存数据的 API 响应 < 200ms
- 规模：10,000 种产品，1,000 并发用户
- 预算：缓存成本 < $100/月
- 新鲜度：5 分钟内可见更新
- 维护：2 人运维团队

允许的灵活性：
- 缓存失效策略（基于时间或事件）
- 缓存键结构（根据需要优化）
- 故障转移方法（只要可靠）
```

### 策略 6：基于角色的提示

从特定角度构建请求。

**产品负责人视角：**
```
作为定义结账需求的产品负责人：
- 业务目标：减少购物车放弃率
- 用户价值：流畅、值得信赖的购买体验
- 成功指标：结账完成率 > 80%

我应该捕获哪些需求？
```

**技术负责人视角：**
```
作为设计通知系统的技术负责人：
- 与现有微服务集成
- 每天处理 100k 通知，并有增长空间
- 如果通知服务失败，保持健康
- 与事件驱动架构保持一致

你会推荐什么设计方法？
```

**开发人员视角：**
```
作为实施此功能的中级开发人员：
- 需要清晰的任务（每个 2-4 小时）
- 任务之间有明确的依赖关系
- 测试方法指南
- 现有代码模式的引用

你能相应地分解实施吗？
```

### 策略 7：面向验证的提示

在提示中建立质量检查。

**需求之后：**
```
审查这些需求并检查：
1. 所有需求都是可测试和可衡量的吗？
2. 我们是否涵盖了错误情况和边缘情况？
3. 是否有任何需求相互冲突？
4. 用户旅程中是否有差距？
5. 需求是否映射到所有用户故事？

提供验证摘要。
```

**设计之后：**
```
根据以下几点验证此设计：
1. 它是否解决了所有需求？
2. 是否存在单点故障？
3. 性能瓶颈是什么？
4. 它如何处理规模增长？
5. 存在哪些安全问题？

提供批判性审查。
```

### 策略 8：权衡探索

探索选项而不是寻求单一答案。

```
我们需要实时通知。比较这些选项：

选项 A：WebSocket 连接
选项 B：服务器发送事件 (SSE)
选项 C：长轮询

对于每一项，评估：
- 实施复杂度
- 浏览器兼容性
- 服务器资源使用
- 可扩展性特征
- 维护开销

在比较表中展示权衡。
```

## 阶段特定模式

### 需求阶段模式

**用户故事扩展：**
```
我有这个用户故事：[基本故事]

请帮助我：
1. 用详细的验收标准（EARS 格式）进行扩展
2. 识别边缘情况和错误场景
3. 定义非功能性需求
4. 建议验证标准
```

**完整性检查：**
```
这是我的草案需求：[需求]

检查完整性：
- 是否覆盖了所有工作流？
- 我们是否处理了错误处理？
- 是否有无障碍需求？
- 数据隐私和安全怎么样？
- 我们是否考虑了移动端与桌面端？
```

### 设计阶段模式

**架构探索：**
```
鉴于这些需求：[摘要]

提出 2-3 种不同的架构方法：
1. 对于每一种，描述组件和交互
2. 列出优缺点
3. 识别风险和缓解措施
4. 估计复杂度

帮我比较和选择。
```

**集成设计：**
```
此功能集成的系统：[系统列表]

设计集成：
1. 定义 API 契约
2. 指定数据流和转换
3. 规划错误处理和重试
4. 记录假设和依赖关系
```

### 任务阶段模式

**任务排序：**
```
基于此设计：[摘要]

创建实施任务，要求：
1. 排序以最小化依赖
2. 启用增量测试
3. 分离设置、核心功能和润色
4. 包含测试任务
5. 每个任务 2-4 小时
```

**任务验证：**
```
审查这些任务：[任务列表]

验证：
1. 每个任务可以独立完成吗？
2. 依赖关系是否标记清晰？
3. 任务是否映射到设计组件？
4. 是否包含测试步骤？
5. 还有什么遗漏吗？
```

##以此类推的高级技术

### 示例规范
提供好的和坏的输出示例来校准响应。

### 增量上下文构建
从广泛开始，随着 AI 展示理解而增加细节。

### 元提示
询问 AI 如何针对你的特定上下文更好地提示它。

### 比较提示
展示多个版本，询问哪一个更好以及为什么。

## 常见错误

1. **太少上下文：** AI 无法读懂你的心思
2. **一次性全部：** 分阶段工作，而不是巨大的提示
3. **接受第一个响应：** 迭代和改进
4. **没有示例：** 展示你想要的
5. **隐藏约束：** 明确限制
6. **跳过验证：** 始终验证输出

## 快速参考

**开始规范：**
```
我正在做 [项目]。我们需要 [功能]。
上下文：[技术栈，约束，用户]
请帮助我开发 [需求/设计/任务]。
```

**改进输出：**
```
进展不错。让我们改进：
1. [要扩展的具体领域]
2. [要添加的缺失元素]
3. [需要澄清]
```

**验证输出：**
```
审查此 [文档] 并识别：
- 缺失元素
- 歧义
- 冲突
- 质量问题
```

**探索选项：**
```
比较这些方法：[选项]
评估：[标准]
展示用于决策的权衡。
```
