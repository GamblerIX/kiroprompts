# 标准和方法论参考

<!-- 导航元数据 -->
<!-- 资源：标准 | 级别：参考 | 前置条件：无 -->
<!-- 相关：process/requirements-phase.md, templates/requirements-template.md, examples/simple-feature-spec.md -->

**📍 您所在位置：** [主指南](../../README.md) → [资源](README.md) → **标准**

## 快速导航
- **📋 应用 EARS：** [需求阶段](../process/requirements-phase.md) - 在实践中使用 EARS 格式
- **📝 使用模板：** [需求模板](../templates/requirements-template.md) - EARS 格式的模板
- **📖 查看示例：** [简单功能规范](../examples/simple-feature-spec.md) - EARS 实际应用
- **🔧 更多工具：** [工具与资源](tools.md) - 其他有用的资源

---

本节提供有关告知规范驱动开发方法的行业标准、方法论和最佳实践的详细信息。

## EARS (Easy Approach to Requirements Syntax)

EARS 是一种结构化的需求编写方法，使需求清晰、可测试且无歧义。它使用特定关键词定义不同类型的需求。

### EARS 关键词和结构

#### WHEN (事件驱动需求)
用于由特定事件或条件触发的需求。

**格式：** `WHEN [事件/触发器] THEN [系统] SHALL [响应]`

**示例：**
- WHEN 用户点击"保存"按钮 THEN 系统 SHALL 验证所有表单字段
- WHEN 文件上传超过 10MB THEN 系统 SHALL 显示错误消息
- WHEN 用户会话过期 THEN 系统 SHALL 重定向到登录页面

#### IF (状态驱动需求)
用于依赖于特定系统状态或条件的需求。

**格式：** `IF [条件] THEN [系统] SHALL [响应]`

**示例：**
- IF 用户未认证 THEN 系统 SHALL 拒绝访问受保护资源
- IF 数据库连接失败 THEN 系统 SHALL 显示维护消息
- IF 用户拥有管理员权限 THEN 系统 SHALL 显示管理面板

#### WHILE (持续需求)
用于必须在持续操作期间维持的需求。

**格式：** `WHILE [条件] [系统] SHALL [持续行为]`

**示例：**
- WHILE 文件正在上传 系统 SHALL 显示进度指示器
- WHILE 用户正在输入 系统 SHALL 提供实时验证反馈
- WHILE 系统正在处理请求 系统 SHALL 防止重复提交

#### WHERE (可选需求)
用于仅适用于特定上下文或位置的需求。

**格式：** `WHERE [位置/上下文] [系统] SHALL [行为]`

**示例：**
- WHERE 用户在移动设备上 系统 SHALL 使用响应式布局
- WHERE 应用程序在生产模式运行 系统 SHALL 将错误记录到外部服务
- WHERE 多个用户同时编辑 系统 SHALL 优雅地处理冲突

### EARS 最佳实践

1. **使用主动语态**：使用主动语态编写需求以保持清晰
2. **具体**：避免像"用户友好"或"快"这样的模糊术语
3. **每个语句一个需求**：每个 EARS 语句应包含确切的一个需求
4. **可测试结果**：每个需求应可通过测试验证
5. **一致的术语**：在所有需求中使用相同的术语

### 要避免的 EARS 反模式

- **复合需求**：避免在一个需求中使用多个 SHALL 语句
- **模糊条件**：不要使用像"适当时"这样不明确的触发器
- **实施细节**：关注是什么，而不是如何做
- **不可测试的需求**：避免无法衡量的主观术语

## 需求工程行业标准

### IEEE 830 - 软件需求规格说明

IEEE 830 提供了编写软件需求规格说明 (SRS) 的指南。关键原则包括：

#### 良好需求的特征
- **正确**：准确描述预期的功能
- **无歧义**：只有一种解释
- **完整**：包含所有必要信息
- **一致**：与其他需求无冲突
- **分级**：按重要性和稳定性排序
- **可验证**：可以测试或检查
- **可修改**：可以在没有过度影响的情况下更改
- **可追溯**：可以链接到设计和实施

#### SRS 文档结构
1. 简介（目的、范围、定义）
2. 总体描述（产品视角、功能、用户特征）
3. 具体需求（功能性、非功能性、接口）
4. 附录（支持信息）

### ISO/IEC 25010 - 质量要求

ISO/IEC 25010 定义了系统和软件的质量特征：

#### 功能适用性
- **功能完整性**：所有指定功能都存在
- **功能正确性**：功能提供正确结果
- **功能适当性**：功能促进指定任务

#### 性能效率
- **时间行为**：响应时间和处理速度
- **资源利用**：CPU、内存、存储使用
- **容量**：最大限制和可扩展性

#### 兼容性
- **共存性**：可以与其他系统一起运行
- **互操作性**：可以交换和使用信息

#### 易用性
- **适当性识别**：用户可以识别适用性
- **易学性**：易于学习和理解
- **易操作性**：易于操作和控制
- **用户错误保护**：防止用户错误
- **用户界面美学**：令人愉悦的用户界面
- **无障碍性**：残障人士可用

#### 可靠性
- **成熟度**：满足正常操作下的可靠性需求
- **可用性**：需要时可操作
- **容错性**：尽管有硬件/软件故障仍可操作
- **可恢复性**：可以从故障中恢复

#### 安全性
- **机密性**：确保仅授权用户访问数据
- **完整性**：防止未授权修改
- **不可否认性**：证明行动或事件已发生
- **问责制**：将行动追溯到实体
- **真实性**：证明主体或资源的身份

#### 可维护性
- **模块化**：由离散组件组成
- **可重用性**：资产可用于其他系统
- **可分析性**：易于评估变更影响
- **可修改性**：可以在没有缺陷的情况下修改
- **可测试性**：可以建立测试标准

#### 可移植性
- **适应性**：可以适应不同环境
- **可安装性**：可以在指定环境中安装
- **可替换性**：可以替换同一目的的其他软件

## 系统设计和架构最佳实践

### 架构原则

#### SOLID 原则
- **单一职责**：每个模块有一个改变的理由
- **开/闭**：对扩展开放，对修改关闭
- **里氏替换**：子类型必须可替换基类型
- **接口隔离**：客户端不应依赖未使用的接口
- **依赖倒置**：依赖抽象，而非具体实现

#### 设计模式
- **创建型**：工厂、建造者、单例
- **结构型**：适配器、装饰器、外观
- **行为型**：观察者、策略、命令

#### 架构风格
- **分层架构**：通过层分离关注点
- **微服务**：小型独立服务的分布式系统
- **事件驱动**：组件通过事件通信
- **六边形**：将核心逻辑与外部关注点隔离

### 系统设计方法论

#### 领域驱动设计 (DDD)
- **通用语言**：技术专家和领域专家之间的共享词汇
- **限界上下文**：领域模型周围的清晰边界
- **聚合**：业务规则的一致性边界
- **领域事件**：捕获重要的业务发生

#### 清洁架构 (Clean Architecture)
- **独立性**：框架、数据库和 UI 独立
- **可测试性**：无需外部元素即可测试业务规则
- **UI 独立性**：UI 可以在不改变业务规则的情况下更改
- **数据库独立性**：业务规则不绑定到数据库

#### 十二要素应用 (Twelve-Factor App)
1. **基准代码**：在版本控制中跟踪一份准代码
2. **依赖**：显式声明和隔离依赖
3. **配置**：在环境中存储配置
4. **后端服务**：把后端服务当作附加资源
5. **构建，发布，运行**：严格分离构建和运行阶段
6. **进程**：以一个或多个无状态进程运行应用
7. **端口绑定**：通过端口绑定导出服务
8. **并发**：通过进程模型进行扩展
9. **易处理性**：快速启动和优雅终止可最大化健壮性
10. **开发环境与线上环境等价**：尽可能的保持开发，预发布，线上环境相同
11. **日志**：把日志当作事件流
12. **管理进程**：后台管理任务当作一次性进程运行

## 需求工程方法论

### 敏捷需求工程

#### 用户故事
**格式：** `作为 [角色]，我想要 [功能]，以便 [益处]`

**特征：**
- **独立**：可以分开开发
- **可协商**：细节可以讨论和细化
- **有价值**：为用户或业务提供价值
- **可估算**：可以为规划确定大小
- **小**：可以在一次迭代中完成
- **可测试**：有明确的验收标准

#### 验收标准
- 定义用户故事何时完成
- 以 Given-When-Then 格式或 EARS 格式编写
- 应可测试且具体
- 团队和利益相关者达成一致

### 行为驱动开发 (BDD)

#### Gherkin 语法
```gherkin
Feature: 用户认证
  作为用户
  我想要登录系统
  以便我可以访问我的个人数据

  Scenario: 成功登录
    Given 我在登录页面
    When 我输入有效凭证
    Then 我应该被重定到仪表板
```

#### BDD 流程
1. **发现**：探索并理解需求
2. **制定**：记录示例和场景
3. **自动化**：创建可执行规范

### 基于模型的需求工程

#### 用例建模
- **参与者**：与系统交互的外部实体
- **用例**：具体的交互或功能
- **关系**：包含、扩展和泛化

#### 需求建模技术
- **实体关系图**：数据关系
- **状态图**：随时间变化的系统行为
- **序列图**：组件之间的交互
- **活动图**：工作流和流程流

## 质量保证标准

### 测试标准

#### ISO/IEC/IEEE 29119 - 软件测试
- **测试计划**：策略和方法
- **测试设计**：测试用例和程序
- **测试执行**：运行测试并记录结果
- **测试监控**：进度跟踪和报告

#### 测试驱动开发 (TDD)
1. **红**：编写一个失败的测试
2. **绿**：编写最少的代码以通过
3. **重构**：在保持测试通过的同时改进代码

### 代码质量标准

#### 清洁代码原则
- **有意义的名称**：使用揭示意图的名称
- **小函数**：函数应该做好一件事
- **注释**：代码应该是自文档化的
- **错误处理**：优雅地处理错误
- **格式化**：一致的代码格式

#### 代码审查标准
- **功能性**：代码是否做它应该做的事？
- **设计**：代码设计是否良好且适当？
- **复杂性**：代码是否比需要的更复杂？
- **测试**：代码是否有正确且设计良好的测试？
- **命名**：名称是否清晰且适当？
- **注释**：注释是否清晰且有用？

## 文档标准

### 技术写作最佳实践

#### 结构和组织
- **逻辑流**：以逻辑顺序呈现信息
- **一致的格式**：跨文档的统一结构
- **清晰的标题**：描述性的章节标题
- **交叉引用**：相关信息之间的链接

#### 写作风格
- **主动语态**：使用主动语态以保持清晰
- **简洁语言**：消除不必要的词语
- **一致的术语**：始终使用相同的术语
- **受众意识**：为你的预期受众写作

### 文档类型

#### API 文档
- **端点描述**：每个端点的清晰解释
- **请求/响应示例**：输入和输出示例
- **错误代码**：全面的错误处理信息
- **认证**：安全需求和实施

#### 用户文档
- **入门**：快速开始指南和教程
- **功能指南**：功能的详细解释
- **故障排除**：常见问题和解决方案
- **FAQ**：常见问题解答

---

## 参考资料和延伸阅读

### 标准组织
- **IEEE** (电气和电子工程师协会)：[ieee.org](https://www.ieee.org)
- **ISO** (国际标准化组织)：[iso.org](https://www.iso.org)
- **W3C** (万维网联盟)：[w3.org](https://www.w3.org)

### 需求工程资源
- "Software Requirements" - Karl Wiegers 和 Joy Beatty
- "Writing Effective Use Cases" - Alistair Cockburn
- "User Stories Applied" - Mike Cohn
- "Specification by Example" - Gojko Adzic

### 系统设计资源
- "Clean Architecture" - Robert C. Martin
- "Domain-Driven Design" - Eric Evans
- "Building Microservices" - Sam Newman
- "System Design Interview" - Alex Xu

### 质量保证资源
- "Clean Code" - Robert C. Martin
- "The Art of Software Testing" - Glenford Myers
- "Continuous Delivery" - Jez Humble 和 David Farley
- "Release It!" - Michael Nygard

---

[← 返回资源](README.md) | [工具和模板 →](../templates/README.md)